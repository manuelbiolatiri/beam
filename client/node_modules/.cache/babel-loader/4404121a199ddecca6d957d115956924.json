{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button,Input}from\"../../../components\";import axiosRequest from\"../../../utils/apiservices\";import{apiRoutes}from\"../../../utils/apiRoutes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PhoneLogin=function PhoneLogin(_ref){var verifyPhone=_ref.verifyPhone,goBack=_ref.goBack,setPhoneNumber=_ref.setPhoneNumber,phoneNumber=_ref.phoneNumber;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSubmitting=_useState2[0],setIsSubmitting=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setIsSubmitting(true);_context.prev=2;_context.next=5;return axiosRequest(\"post\",apiRoutes.verificationCode,{type:\"phone\",phone:\"0\"+phoneNumber.toString()});case 5:verifyPhone();_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);case 10:_context.prev=10;setIsSubmitting(false);return _context.finish(10);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,8,10,13]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(e){var val=e.target.value;if(val.length===11)return;setPhoneNumber(val);};return/*#__PURE__*/_jsxs(\"form\",{className:\"phone\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-title\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Enter Phone number\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"We will send a text with verification code. Message and data rate may apply.\",\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"phone-div mt-3 flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:true,children:\"+234\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"80xxxxxxxx\",name:\"phoneNumber\",type:\"number\",className:\"number-input\",value:phoneNumber,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(Button,{text:\"continue\",className:\"phone-cont\",type:\"submit\",disabled:phoneNumber.length<10||isSubmitting}),/*#__PURE__*/_jsx(\"p\",{className:\"back-btn\",onClick:function onClick(){return goBack();},children:\"Back\"})]});};export default PhoneLogin;","map":{"version":3,"sources":["/Users/user/Desktop/manuel/flenjo/client/src/views/landing/partials/LoginForm.jsx"],"names":["React","useState","Button","Input","axiosRequest","apiRoutes","PhoneLogin","verifyPhone","goBack","setPhoneNumber","phoneNumber","isSubmitting","setIsSubmitting","handleSubmit","e","preventDefault","verificationCode","type","phone","toString","handleChange","val","target","value","length"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,OAASC,SAAT,KAA0B,0BAA1B,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAA0D,IAAvDC,CAAAA,WAAuD,MAAvDA,WAAuD,CAA1CC,MAA0C,MAA1CA,MAA0C,CAAlCC,cAAkC,MAAlCA,cAAkC,CAAlBC,WAAkB,MAAlBA,WAAkB,eACnCT,QAAQ,CAAC,KAAD,CAD2B,wCACpEU,YADoE,eACtDC,eADsD,eAG3E,GAAMC,CAAAA,YAAY,2FAAG,iBAAOC,CAAP,kHACnBA,CAAC,CAACC,cAAF,GAEAH,eAAe,CAAC,IAAD,CAAf,CAHmB,sCAMXR,CAAAA,YAAY,CAAC,MAAD,CAASC,SAAS,CAACW,gBAAnB,CAAqC,CACrDC,IAAI,CAAE,OAD+C,CAErDC,KAAK,CAAE,IAAMR,WAAW,CAACS,QAAZ,EAFwC,CAArC,CAND,QAWjBZ,WAAW,GAXM,wGAejBK,eAAe,CAAC,KAAD,CAAf,CAfiB,qGAAH,kBAAZC,CAAAA,YAAY,6CAAlB,CAmBA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,CAAD,CAAO,CAC1B,GAAIO,CAAAA,GAAG,CAAGP,CAAC,CAACQ,MAAF,CAASC,KAAnB,CACA,GAAIF,GAAG,CAACG,MAAJ,GAAe,EAAnB,CAAuB,OACvBf,cAAc,CAACY,GAAD,CAAd,CACD,CAJD,CAMA,mBACE,cAAM,SAAS,CAAC,OAAhB,CAAwB,QAAQ,CAAER,YAAlC,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,0CADF,cAEE,oGAES,GAFT,GAFF,GADF,cASE,aAAK,SAAS,CAAC,qCAAf,wBACE,eAAQ,QAAQ,KAAhB,kBADF,cAGE,KAAC,KAAD,EACE,WAAW,CAAC,YADd,CAEE,IAAI,CAAC,aAFP,CAGE,IAAI,CAAC,QAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,KAAK,CAAEH,WALT,CAME,QAAQ,CAAEU,YANZ,CAOE,QAAQ,KAPV,EAHF,GATF,cAuBE,KAAC,MAAD,EACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,YAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,QAAQ,CAAEV,WAAW,CAACc,MAAZ,CAAqB,EAArB,EAA2Bb,YAJvC,EAvBF,cA8BE,UAAG,SAAS,CAAC,UAAb,CAAwB,OAAO,CAAE,yBAAMH,CAAAA,MAAM,EAAZ,EAAjC,kBA9BF,GADF,CAoCD,CAhED,CAkEA,cAAeF,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Input } from \"../../../components\";\nimport axiosRequest from \"../../../utils/apiservices\";\nimport { apiRoutes } from \"../../../utils/apiRoutes\";\n\nconst PhoneLogin = ({ verifyPhone, goBack, setPhoneNumber, phoneNumber }) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setIsSubmitting(true);\n\n    try {\n      await axiosRequest(\"post\", apiRoutes.verificationCode, {\n        type: \"phone\",\n        phone: \"0\" + phoneNumber.toString(),\n      });\n\n      verifyPhone();\n    } catch (err) {\n      //err handler here and notification if needed\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    let val = e.target.value;\n    if (val.length === 11) return;\n    setPhoneNumber(val);\n  };\n\n  return (\n    <form className=\"phone\" onSubmit={handleSubmit}>\n      <div className=\"form-title\">\n        <h4>Enter Phone number</h4>\n        <p>\n          We will send a text with verification code. Message and data rate may\n          apply.{\" \"}\n        </p>\n      </div>\n\n      <div className=\"phone-div mt-3 flex justify-between\">\n        <button disabled>+234</button>\n\n        <Input\n          placeholder=\"80xxxxxxxx\"\n          name=\"phoneNumber\"\n          type=\"number\"\n          className=\"number-input\"\n          value={phoneNumber}\n          onChange={handleChange}\n          required\n        />\n      </div>\n\n      <Button\n        text=\"continue\"\n        className=\"phone-cont\"\n        type=\"submit\"\n        disabled={phoneNumber.length < 10 || isSubmitting}\n      />\n\n      <p className=\"back-btn\" onClick={() => goBack()}>\n        Back\n      </p>\n    </form>\n  );\n};\n\nexport default PhoneLogin;\n"]},"metadata":{},"sourceType":"module"}