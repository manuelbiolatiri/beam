{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{Button,Input}from\"../../components\";import{Checkbox}from\"../../components/input/Checkbox\";import{Modal}from\"../../components/modal/Modal\";import{femaleIcon,maleIcon}from\"../../icons\";import babe from\"../../images/babe.png\";import TermsModal from\"./partials/Terms\";import{apiRoutes}from\"../../utils/apiRoutes\";import axiosRequest from\"../../utils/apiservices\";import{showToast}from\"../../utils\";import{useHistory}from\"react-router-dom\";import{createBrowserHistory}from'history';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var AccountSetup=function AccountSetup(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),termsAndCondition=_useState4[0],setTermsAndCondition=_useState4[1];var stateHistory=createBrowserHistory();var history=createBrowserHistory();var closeModal=function closeModal(){setModal(false);setTermsAndCondition(false);};useEffect(function(){if(stateHistory.location.state&&stateHistory.location.state.termsAndCondition){setModal(true);setTermsAndCondition(true);var state=_objectSpread({},stateHistory.location.state);setTermsAndCondition(state.termsAndCondition);delete state.termsAndCondition;stateHistory.replace(_objectSpread(_objectSpread({},stateHistory.location),{},{state:state}));setTermsAndCondition(true);}else{setTermsAndCondition(false);}},[]);var passion=[{id:1,item:\"swimming\"},{id:2,item:\"foodie\"},{id:3,item:\"driving\"},{id:4,item:\"drumming\"},{id:5,item:\"reading\"},{id:6,item:\"singing\"}];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),firstName=_useState8[0],setFirstName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),gender=_useState10[0],setGender=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),passions=_useState12[0],setPassions=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),email=_useState14[0],setEmail=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),day=_useState16[0],setDay=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),month=_useState18[0],setMonth=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),year=_useState20[0],setYear=_useState20[1];var handleInputChangefirstname=function handleInputChangefirstname(e){var value=e.target.value;setFirstName(value);};var handleInputChangelastname=function handleInputChangelastname(e){var value=e.target.value;setLastName(value);};var handleInputChangemonth=function handleInputChangemonth(e){var value=e.target.value;setMonth(value);};var handleInputChangeday=function handleInputChangeday(e){var value=e.target.value;setDay(value);};var handleInputChangeyear=function handleInputChangeyear(e){var value=e.target.value;setYear(value);};var handleInputChangepassions=function handleInputChangepassions(e){var value=e.target.value;setPassions(value);};var handleInputChangeemail=function handleInputChangeemail(e){var value=e.target.value;setEmail(value);};var handleInputChangegender=function handleInputChangegender(e){var value=e.target.value;setGender(value);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data,day,month,year;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data={firstName:firstName,lastName:lastName,gender:gender,passions:passions,email:email};day=data.day,month=data.month,year=data.year;data.dob=\"\".concat(day,\"-\").concat(month,\"-\").concat(year);delete data.day;delete data.month;delete data.year;_context.next=9;return axiosRequest(\"put\",apiRoutes.updateProfile,data).then(function(res){console.log(res);if(res===null||res===void 0?void 0:res.data){var _res$data,_res$data$data;showToast((res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$data=_res$data.data)===null||_res$data$data===void 0?void 0:_res$data$data.messsage)||\"Your request was successful\",\"success\");}history.push(\"/uploadphotos\");}).catch(function(err){var data=err.response.data;if(data){return showToast(data.error,\"error\");}else{showToast(\"!Oops something went wrong. We are looking at it\",\"error\");}});case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"account-cont flex justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left w-1/2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"-page-title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Set up your Flenjo account\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"details-fill \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name-cont flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 \",children:/*#__PURE__*/_jsx(Input,{label:\"Surname (Family name)\",value:lastName,name:\"lastName\",onChange:handleInputChangelastname,placeholder:\"Surname\",className:\"ml-0\"// errorMessage={formik?.errors?.lastName}\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 \",children:/*#__PURE__*/_jsx(Input,{label:\"First Name\",value:firstName,name:\"firstName\",onChange:handleInputChangefirstname,placeholder:\"First name\"// errorMessage={formik?.errors?.firstName}\n})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sec-cont flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 \",children:/*#__PURE__*/_jsx(Input,{label:\"Email\",name:\"email\",value:email,onChange:handleInputChangeemail,placeholder:\"Precaptured email\"// errorMessage={formik?.errors?.email}\n})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 flex justify-between\",children:[/*#__PURE__*/_jsx(Input,{label:\"Birthday\",name:\"month\",value:month,onChange:handleInputChangemonth,placeholder:\"MM\",className:\"text-center\"// errorMessage={formik?.errors?.month}\n}),/*#__PURE__*/_jsx(Input,{label:\"\",name:\"day\",value:day,onChange:handleInputChangeday,placeholder:\"DD\",className:\"mt-8 text-center\"// errorMessage={formik?.errors?.day}\n}),/*#__PURE__*/_jsx(Input,{name:\"year\",value:year,onChange:handleInputChangeyear,placeholder:\"YY\",className:\"mt-8 text-center\"// errorMessage={formik?.errors?.year}\n})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-sect\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"gender-text\",children:\"Gender\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-select flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gender male flex\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:maleIcon,alt:\"MALE\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Male\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",onChange:handleInputChangegender})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"gender female flex\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"'\",/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:femaleIcon,alt:\"MALE\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Male\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",onChange:handleInputChangegender})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"show-gender\",children:/*#__PURE__*/_jsx(Checkbox,{label:\"show my gender on my profile\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"passion \",children:[/*#__PURE__*/_jsx(\"p\",{className:\"optional\",children:\"Choose your passion (Optional)\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"Let everyone know what you are passionate about\"}),/*#__PURE__*/_jsx(\"div\",{className:\"select-passion flex\",children:passion===null||passion===void 0?void 0:passion.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"item\",children:item===null||item===void 0?void 0:item.item},item===null||item===void 0?void 0:item.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"more\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"+\"}),\" Show more\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"continue-btn\",children:/*#__PURE__*/_jsx(Button,{text:\"Continue\",className:\"settings-btn\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right w-1/2\",children:/*#__PURE__*/_jsx(\"img\",{src:babe,alt:\"Girl\"})})]}),termsAndCondition?/*#__PURE__*/_jsx(Modal,{onClose:closeModal,visible:modal,removeCloseIcon:true,children:/*#__PURE__*/_jsx(TermsModal,{close:closeModal})}):\"\"]});};","map":{"version":3,"sources":["/Users/user/Desktop/manuel/flenjo/client/src/views/accountSetting/SettingsPage.jsx"],"names":["useEffect","useState","Button","Input","Checkbox","Modal","femaleIcon","maleIcon","babe","TermsModal","apiRoutes","axiosRequest","showToast","useHistory","createBrowserHistory","AccountSetup","modal","setModal","termsAndCondition","setTermsAndCondition","stateHistory","history","closeModal","location","state","replace","passion","id","item","lastName","setLastName","firstName","setFirstName","gender","setGender","passions","setPassions","email","setEmail","day","setDay","month","setMonth","year","setYear","handleInputChangefirstname","e","value","target","handleInputChangelastname","handleInputChangemonth","handleInputChangeday","handleInputChangeyear","handleInputChangepassions","handleInputChangeemail","handleInputChangegender","handleSubmit","preventDefault","data","dob","updateProfile","then","res","console","log","messsage","push","catch","err","response","error","map"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Button, Input } from \"../../components\";\nimport { Checkbox } from \"../../components/input/Checkbox\";\nimport { Modal } from \"../../components/modal/Modal\";\nimport { femaleIcon, maleIcon } from \"../../icons\";\nimport babe from \"../../images/babe.png\";\nimport TermsModal from \"./partials/Terms\";\nimport { apiRoutes } from \"../../utils/apiRoutes\";\nimport axiosRequest from \"../../utils/apiservices\";\nimport { showToast } from \"../../utils\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {createBrowserHistory} from 'history'\n\nexport const AccountSetup = () => {\n    const [modal, setModal] = useState(true)\n    const [termsAndCondition, setTermsAndCondition] = useState(true)\n\n    const stateHistory = createBrowserHistory();\n    const history = createBrowserHistory();\n\n    const closeModal = () => {\n        setModal(false)\n        setTermsAndCondition(false)\n    }\n\n    useEffect(()=> {\n        if (stateHistory.location.state && stateHistory.location.state.termsAndCondition) {\n            setModal(true)\n            setTermsAndCondition(true)\n            let state = { ...stateHistory.location.state };\n            setTermsAndCondition(state.termsAndCondition)\n\n            delete state.termsAndCondition;\n\n            stateHistory.replace({ ...stateHistory.location, state });\n\n            setTermsAndCondition(true)\n\n\n        } else {\n            setTermsAndCondition(false)\n        }\n    }, [])\n\n    const passion = [\n        {id: 1, item: \"swimming\"},\n        {id: 2, item: \"foodie\"},\n        {id: 3, item: \"driving\"},\n        {id: 4, item: \"drumming\"},\n        {id: 5, item: \"reading\"},\n        {id: 6, item: \"singing\"},\n    ]\n\n    const [lastName, setLastName] = useState(\"\");\n    const [firstName, setFirstName] = useState(\"\");\n    const [gender, setGender] = useState(\"\");\n    const [passions, setPassions] = useState([]);\n    const [email, setEmail] = useState(\"\");\n    const [day, setDay] = useState(\"\");\n    const [month, setMonth] = useState(\"\");\n    const [year, setYear] = useState(\"\");\n\n\n    const handleInputChangefirstname = (e) => {\n        let value = e.target.value;\n\n\t\tsetFirstName(value)\n    }\n    const handleInputChangelastname = (e) => {\n        let value = e.target.value;\n\n    setLastName(value)\n    }\n    const handleInputChangemonth = (e) => {\n            let value = e.target.value;\n    \n    setMonth(value)\n        }\n    const handleInputChangeday = (e) => {\n        let value = e.target.value;\n\n    setDay(value)\n    }\n    const handleInputChangeyear = (e) => {\n        let value = e.target.value;\n\n    setYear(value)\n    }\n    const handleInputChangepassions =  (e) =>{\n        let value = e.target.value;\n\n    setPassions(value)\n    }\n    const handleInputChangeemail = (e) => {\n        let value = e.target.value;\n\n    setEmail(value)\n    }\n    const handleInputChangegender = (e) => {\n        let value = e.target.value;\n\n    setGender(value)\n    }\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        const data = {\n            firstName: firstName,\n            lastName: lastName,\n            gender: gender,\n            passions: passions,\n            email: email\n        }\n        const {day, month, year} = data\n        data.dob = `${day}-${month}-${year}`;\n        delete data.day\n        delete data.month\n        delete data.year\n\n        await axiosRequest(\"put\", apiRoutes.updateProfile, data)\n            .then((res) => {\n                console.log(res)\n\n                if(res?.data){\n                    showToast(res?.data?.data?.messsage || \"Your request was successful\", \"success\")\n                }\n                history.push(\"/uploadphotos\");\n\n            })\n            .catch(err => {\n                let {data} = err.response;\n                if(data){\n                    return showToast(data.error, \"error\")\n                } else{\n                    showToast(\"!Oops something went wrong. We are looking at it\", \"error\")\n                }\n            })\n    }\n\n    return (\n        <>\n\n            <div className=\"account-cont flex justify-between\">\n                <div className=\"left w-1/2\">\n                    <div className=\"-page-title\">\n                        <h3>Set up your Flenjo account</h3>\n                    </div>\n\n                    <div className=\"details-fill \">\n                        <form onSubmit={handleSubmit}>\n                            <div className=\"name-cont flex\">\n                                <div className=\"w-1/2 \">\n                                    <Input\n                                        label=\"Surname (Family name)\"\n                                        value={lastName}\n                                        name=\"lastName\"\n                                        onChange={ handleInputChangelastname}\n                                        placeholder=\"Surname\"\n                                        className=\"ml-0\"\n                                        // errorMessage={formik?.errors?.lastName}\n                                    />\n                                </div>\n                                <div className=\"w-1/2 \">\n                                    <Input\n                                        label=\"First Name\"\n                                        value={firstName}\n                                        name=\"firstName\"\n                                        onChange={ handleInputChangefirstname}\n                                        placeholder=\"First name\"\n                                        // errorMessage={formik?.errors?.firstName}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"sec-cont flex\">\n                                <div className=\"w-1/2 \">\n                                    <Input\n                                        label=\"Email\"\n                                        name=\"email\"\n                                        value={email}\n                                        onChange={ handleInputChangeemail}\n                                        placeholder=\"Precaptured email\"\n                                        // errorMessage={formik?.errors?.email}\n                                    />\n                                </div>\n                                <div className=\"w-1/2 flex justify-between\">\n                                    <Input\n                                        label=\"Birthday\"\n                                        name=\"month\"\n                                        value={month}\n                                        onChange={ handleInputChangemonth}\n                                        placeholder=\"MM\"\n                                        className=\"text-center\"\n                                        // errorMessage={formik?.errors?.month}\n                                    />\n                                    <Input\n                                        label=\"\"\n                                        name=\"day\"\n                                        value={day}\n                                        onChange={ handleInputChangeday}\n                                        placeholder=\"DD\"\n                                        className=\"mt-8 text-center\"\n                                        // errorMessage={formik?.errors?.day}\n                                    />\n                                    <Input\n                                        name=\"year\"\n                                        value={year}\n                                        onChange={ handleInputChangeyear}\n                                        placeholder=\"YY\"                                   \n                                        className=\"mt-8 text-center\"\n                                        // errorMessage={formik?.errors?.year}\n                                    />\n                                </div>\n                            </div>\n                            \n                            <div className=\"gender-sect\">\n                                <p className=\"gender-text\">Gender</p>\n                                <div className=\"gender-select flex\">\n                                    <div className=\"gender male flex\">\n                                        <label>\n                                            <>\n                                                <img src={maleIcon} alt=\"MALE\" /> \n                                                <span>Male</span>\n                                            </>        \n                                            <input type=\"radio\" name=\"gender\" onChange={ handleInputChangegender} />\n                                        </label>\n                                        \n                                    </div>\n                                    <div className=\"gender female flex\">\n                                        <label>'\n                                            <>\n                                                <img src={femaleIcon} alt=\"MALE\" /> \n                                                <span>Male</span>\n                                            </>\n                                            <input type=\"radio\" name=\"gender\" onChange={ handleInputChangegender} />\n                                        </label>\n                                    </div>\n                                    {/* <div className=\"gender male flex\"><img src={maleIcon} alt=\"MALE\" /> <span>Male</span></div>\n                                    <div className=\"gender female flex\"><img src={femaleIcon} alt=\"FEMALE\" /><span>Female</span></div> */}\n                                </div>\n                                <div className=\"show-gender\"><Checkbox label=\"show my gender on my profile\" /></div>\n                            </div>\n\n                            <div className=\"passion \">\n                                <p className=\"optional\">Choose your passion (Optional)</p>\n                                <br />\n                                <span>Let everyone know what you are passionate about</span>\n                                \n                                <div className=\"select-passion flex\">\n                                    {passion?.map((item) => (\n                                        <div className=\"item\" key={item?.id}>\n                                            {item?.item}\n                                        </div>\n                                    ))}\n                                </div>\n\n                                <div className=\"more\"><span>+</span> Show more</div>\n                            </div>\n\n                            <div className=\"continue-btn\">\n                                <Button text=\"Continue\" className=\"settings-btn\"/>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <div className=\"right w-1/2\">\n                    <img src={babe} alt=\"Girl\" />\n                </div>\n            </div>\n            {termsAndCondition ?\n                <Modal onClose={closeModal} visible={modal} removeCloseIcon={true}>\n                    <TermsModal close={closeModal}/>\n                </Modal>\n            : \"\"\n            }\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}