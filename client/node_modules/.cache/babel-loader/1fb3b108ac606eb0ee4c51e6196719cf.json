{"ast":null,"code":"import _toConsumableArray from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/user/Desktop/manuel/flenjo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{Button,Input}from\"../../components\";import{Checkbox}from\"../../components/input/Checkbox\";import{Modal}from\"../../components/modal/Modal\";import{femaleIcon,maleIcon}from\"../../icons\";import babe from\"../../images/babe.png\";import TermsModal from\"./partials/Terms\";import{apiRoutes}from\"../../utils/apiRoutes\";import axiosRequest from\"../../utils/apiservices\";import{session,showToast}from\"../../utils\";import{useHistory,useLocation}from\"react-router-dom\";// import {createBrowserHistory} from 'history'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AccountSetup=function AccountSetup(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),termsAndCondition=_useState4[0],setTermsAndCondition=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),passionModal=_useState6[0],setPassion=_useState6[1];// const stateHistory = createBrowserHistory();\nvar history=useHistory();var _useLocation=useLocation(),state=_useLocation.state;useEffect(function(){console.log(\"state\",state);if(!session.get(\"modalShowed\")&&(state===null||state===void 0?void 0:state.termsAndCondition)){setModal(true);setTermsAndCondition(true);// let state = { ...stateHistory.location.state };\n// setTermsAndCondition(state.termsAndCondition)\n// delete state.termsAndCondition;\n// stateHistory.replace({ ...stateHistory.location, state });\n}else{setTermsAndCondition(false);session.remove(\"modalShowed\");}},[state]);var closeModal=function closeModal(){setModal(false);setTermsAndCondition(false);setPassion(false);};var passion=[{id:1,item:\"swimming\"},{id:2,item:\"foodie\"},{id:3,item:\"driving\"},{id:4,item:\"drumming\"},{id:5,item:\"reading\"},{id:6,item:\"singing\"},{id:7,item:\"dancing\"},{id:8,item:\"hiking\"},{id:9,item:\"adventurous\"},{id:10,item:\"sleeping\"},{id:11,item:\"running\"},{id:12,item:\"soccer\"}];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lastName=_useState8[0],setLastName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),firstName=_useState10[0],setFirstName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),gender=_useState12[0],setGender=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),email=_useState14[0],setEmail=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),day=_useState16[0],setDay=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),month=_useState18[0],setMonth=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),year=_useState20[0],setYear=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),selectedPassion=_useState22[0],setPassionArr=_useState22[1];var handleInputChangefirstname=function handleInputChangefirstname(e){var value=e.target.value;setFirstName(value);};var handleInputChangelastname=function handleInputChangelastname(e){var value=e.target.value;setLastName(value);};var handleInputChangemonth=function handleInputChangemonth(e){var value=e.target.value;setMonth(value);};var handleInputChangeday=function handleInputChangeday(e){var value=e.target.value;setDay(value);};var handleInputChangeyear=function handleInputChangeyear(e){var value=e.target.value;setYear(value);};var handleInputChangeemail=function handleInputChangeemail(e){var value=e.target.value;setEmail(value);};var handleInputChangegender=function handleInputChangegender(e){var value=e.target.value;setGender(value);console.log(value);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data={firstName:firstName,lastName:lastName,gender:gender,passions:selectedPassion,email:email};// const {day, month, year} = data\ndata.dob=\"\".concat(day,\"-\").concat(month,\"-\").concat(year);// delete data.day\n// delete data.month\n// delete data.year\n_context.next=5;return axiosRequest(\"put\",apiRoutes.updateProfile,data).then(function(res){console.log(res);if(res===null||res===void 0?void 0:res.data){var _res$data,_res$data$data;showToast((res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$data=_res$data.data)===null||_res$data$data===void 0?void 0:_res$data$data.messsage)||\"Your request was successful\",\"success\");}history.push(\"/uploadphotos\");}).catch(function(err){var _err$response;// let {data} = err?.response;\nif(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data){return showToast(data.error,\"error\");}else{showToast(\"!Oops something went wrong. We are looking at it\",\"error\");}});case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handlePassion=function handlePassion(item){var index=passion.indexOf(item);passion.splice(index,1);setPassionArr([].concat(_toConsumableArray(selectedPassion),[item]));};var PassionsModal=function PassionsModal(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex flex-wrap justify-content select-passion-modal \",children:passion===null||passion===void 0?void 0:passion.map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{className:\"item mb-2\",onClick:function onClick(){return handlePassion(item);},children:item===null||item===void 0?void 0:item.item},i);})})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"account-cont flex justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left w-1/2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"-page-title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Set up your Flenjo account\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"details-fill \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name-cont flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 \",children:/*#__PURE__*/_jsx(Input,{label:\"Surname\"// label=\"Surname (Family name)\"\n,value:lastName,name:\"lastName\",onChange:handleInputChangelastname,placeholder:\"Surname\",className:\"ml-0\"// errorMessage={formik?.errors?.lastName}\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 \",children:/*#__PURE__*/_jsx(Input,{label:\"First Name\",value:firstName,name:\"firstName\",onChange:handleInputChangefirstname,placeholder:\"First name\"// errorMessage={formik?.errors?.firstName}\n})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sec-cont flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 \",children:/*#__PURE__*/_jsx(Input,{label:\"Email\",name:\"email\",value:email,onChange:handleInputChangeemail,placeholder:\"Precaptured email\"// errorMessage={formik?.errors?.email}\n})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 flex justify-between\",children:[/*#__PURE__*/_jsx(Input,{label:\"Birthday\",name:\"month\",value:month,onChange:handleInputChangemonth,placeholder:\"MM\",className:\"text-center date\"// errorMessage={formik?.errors?.month}\n}),/*#__PURE__*/_jsx(Input,{label:\"\",name:\"day\",value:day,onChange:handleInputChangeday,placeholder:\"DD\",className:\"mt-8 text-center date\"// errorMessage={formik?.errors?.day}\n}),/*#__PURE__*/_jsx(Input,{name:\"year\",value:year,onChange:handleInputChangeyear,placeholder:\"YYYY\",className:\"mt-8 text-center date\"// errorMessage={formik?.errors?.year}\n})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-sect\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"gender-text\",children:\"Gender\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-select flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gender male flex \".concat(gender===\"male\"?\"selected\":\"\"),children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:maleIcon,alt:\"MALE\",className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Male\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",value:\"male\",onChange:handleInputChangegender,className:\"hidden\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"gender female flex \".concat(gender===\"female\"?\"selected\":\"\"),children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:femaleIcon,alt:\"female\",className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Female\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",value:\"female\",onChange:handleInputChangegender,className:\"hidden\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"show-gender\",children:/*#__PURE__*/_jsx(Checkbox,{label:\"show my gender on my profile\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"passion \",children:[/*#__PURE__*/_jsx(\"p\",{className:\"optional\",children:\"Choose your passion (Optional)\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"Let everyone know what you are passionate about\"}),/*#__PURE__*/_jsx(\"div\",{className:\"select-passion flex flex-wrap \",children:selectedPassion===null||selectedPassion===void 0?void 0:selectedPassion.map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{className:\"item mb-2\",children:item===null||item===void 0?void 0:item.item},i);})}),passionModal?/*#__PURE__*/_jsx(Modal,{onClose:closeModal,visible:passionModal,children:/*#__PURE__*/_jsx(PassionsModal,{close:closeModal})}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"more\",onClick:function onClick(){return setPassion(true);},children:[/*#__PURE__*/_jsx(\"span\",{children:\"+\"}),\" Show more\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"continue-btn\",children:/*#__PURE__*/_jsx(Button,{text:\"Continue\",className:\"settings-btn\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right w-1/2\",children:/*#__PURE__*/_jsx(\"img\",{src:babe,alt:\"Girl\"})})]}),termsAndCondition?/*#__PURE__*/_jsx(Modal,{visible:modal,removeCloseIcon:true,children:/*#__PURE__*/_jsx(TermsModal,{close:function close(){session.set(\"modalShowed\",\"true\");closeModal();}})}):\"\"]});};","map":{"version":3,"sources":["/Users/user/Desktop/manuel/flenjo/client/src/views/accountSetting/SettingsPage.jsx"],"names":["useEffect","useState","Button","Input","Checkbox","Modal","femaleIcon","maleIcon","babe","TermsModal","apiRoutes","axiosRequest","session","showToast","useHistory","useLocation","AccountSetup","modal","setModal","termsAndCondition","setTermsAndCondition","passionModal","setPassion","history","state","console","log","get","remove","closeModal","passion","id","item","lastName","setLastName","firstName","setFirstName","gender","setGender","email","setEmail","day","setDay","month","setMonth","year","setYear","selectedPassion","setPassionArr","handleInputChangefirstname","e","value","target","handleInputChangelastname","handleInputChangemonth","handleInputChangeday","handleInputChangeyear","handleInputChangeemail","handleInputChangegender","handleSubmit","preventDefault","data","passions","dob","updateProfile","then","res","messsage","push","catch","err","response","error","handlePassion","index","indexOf","splice","PassionsModal","map","i","set"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Button, Input } from \"../../components\";\nimport { Checkbox } from \"../../components/input/Checkbox\";\nimport { Modal } from \"../../components/modal/Modal\";\nimport { femaleIcon, maleIcon } from \"../../icons\";\nimport babe from \"../../images/babe.png\";\nimport TermsModal from \"./partials/Terms\";\nimport { apiRoutes } from \"../../utils/apiRoutes\";\nimport axiosRequest from \"../../utils/apiservices\";\nimport { session, showToast } from \"../../utils\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\n// import {createBrowserHistory} from 'history'\n\nexport const AccountSetup = () => {\n    const [modal, setModal] = useState(false)\n    const [termsAndCondition, setTermsAndCondition] = useState(false)\n    const [passionModal, setPassion] = useState(false)\n\n    // const stateHistory = createBrowserHistory();\n    const history = useHistory();\n    const {state} = useLocation();\n\n    useEffect(()=> {\n        console.log(\"state\", state)\n        if (!session.get(\"modalShowed\") && state?.termsAndCondition) {\n            setModal(true)\n            setTermsAndCondition(true)\n            // let state = { ...stateHistory.location.state };\n            // setTermsAndCondition(state.termsAndCondition)\n\n            // delete state.termsAndCondition;\n\n            // stateHistory.replace({ ...stateHistory.location, state });\n        } else {\n            setTermsAndCondition(false)\n            session.remove(\"modalShowed\")\n        }\n    }, [state])\n\n    const closeModal = () => {\n        setModal(false)\n        setTermsAndCondition(false)\n        setPassion(false)\n    }\n\n    let passion = [\n        {id: 1, item: \"swimming\"},\n        {id: 2, item: \"foodie\"},\n        {id: 3, item: \"driving\"},\n        {id: 4, item: \"drumming\"},\n        {id: 5, item: \"reading\"},\n        {id: 6, item: \"singing\"},\n        {id: 7, item: \"dancing\"},\n        {id: 8, item: \"hiking\"},\n        {id: 9, item: \"adventurous\"},\n        {id: 10, item: \"sleeping\"},\n        {id: 11, item: \"running\"},\n        {id: 12, item: \"soccer\"},\n    ]\n\n    const [lastName, setLastName] = useState(\"\");\n    const [firstName, setFirstName] = useState(\"\");\n    const [gender, setGender] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [day, setDay] = useState(\"\");\n    const [month, setMonth] = useState(\"\");\n    const [year, setYear] = useState(\"\");\n\n    const [selectedPassion, setPassionArr] = useState([])\n\n    const handleInputChangefirstname = (e) => {\n        let value = e.target.value;\n\n\t\tsetFirstName(value)\n    }\n    const handleInputChangelastname = (e) => {\n        let value = e.target.value;\n\n        setLastName(value)\n    }\n    const handleInputChangemonth = (e) => {\n            let value = e.target.value;\n    \n        setMonth(value)\n        }\n    const handleInputChangeday = (e) => {\n        let value = e.target.value;\n\n        setDay(value)\n    }\n    const handleInputChangeyear = (e) => {\n        let value = e.target.value;\n\n        setYear(value)\n    }\n\n    const handleInputChangeemail = (e) => {\n        let value = e.target.value;\n\n        setEmail(value)\n    }\n    const handleInputChangegender = (e) => {\n        let value = e.target.value;\n\n        setGender(value)\n        console.log(value)\n    }\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        const data = {\n            firstName: firstName,\n            lastName: lastName,\n            gender: gender,\n            passions: selectedPassion,\n            email: email\n        }\n        // const {day, month, year} = data\n        data.dob = `${day}-${month}-${year}`;\n        // delete data.day\n        // delete data.month\n        // delete data.year\n\n        await axiosRequest(\"put\", apiRoutes.updateProfile, data)\n            .then((res) => {\n                console.log(res)\n\n                if(res?.data){\n                    showToast(res?.data?.data?.messsage || \"Your request was successful\", \"success\")\n                }\n                history.push(\"/uploadphotos\");\n\n            })\n            .catch(err => {\n                // let {data} = err?.response;\n                if(err?.response?.data){\n                    return showToast(data.error, \"error\")\n                } else{\n                    showToast(\"!Oops something went wrong. We are looking at it\", \"error\")\n                }\n            })\n    }\n\n    const handlePassion =  (item) => {\n        const index = passion.indexOf(item);\n        passion.splice(index, 1);\n        setPassionArr([...selectedPassion, item]);\n    }\n\n    const PassionsModal = () => {\n        return (\n            <>\n                <div className=\"mx-auto flex flex-wrap justify-content select-passion-modal \">\n                    {passion?.map((item, i) => (\n                        <div className=\"item mb-2\" key={i} onClick={() => handlePassion(item)}>\n                            {item?.item}\n                        </div>\n                    ))}\n                </div>\n            </>\n        )\n    }\n\n    return (\n        <>\n            <div className=\"account-cont flex justify-between\">\n                <div className=\"left w-1/2\">\n                    <div className=\"-page-title\">\n                        <h3>Set up your Flenjo account</h3>\n                    </div>\n\n                    <div className=\"details-fill \">\n                        <form onSubmit={handleSubmit}>\n                            <div className=\"name-cont flex\">\n                                <div className=\"w-1/2 \">\n                                    <Input\n                                        label=\"Surname\"\n                                        // label=\"Surname (Family name)\"\n                                        value={lastName}\n                                        name=\"lastName\"\n                                        onChange={ handleInputChangelastname}\n                                        placeholder=\"Surname\"\n                                        className=\"ml-0\"\n                                        // errorMessage={formik?.errors?.lastName}\n                                    />\n                                </div>\n                                <div className=\"w-1/2 \">\n                                    <Input\n                                        label=\"First Name\"\n                                        value={firstName}\n                                        name=\"firstName\"\n                                        onChange={ handleInputChangefirstname}\n                                        placeholder=\"First name\"\n                                        // errorMessage={formik?.errors?.firstName}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"sec-cont flex\">\n                                <div className=\"w-1/2 \">\n                                    <Input\n                                        label=\"Email\"\n                                        name=\"email\"\n                                        value={email}\n                                        onChange={ handleInputChangeemail}\n                                        placeholder=\"Precaptured email\"\n                                        // errorMessage={formik?.errors?.email}\n                                    />\n                                </div>\n                                <div className=\"w-1/2 flex justify-between\">\n                                    <Input\n                                        label=\"Birthday\"\n                                        name=\"month\"\n                                        value={month}\n                                        onChange={ handleInputChangemonth}\n                                        placeholder=\"MM\"\n                                        className=\"text-center date\"\n                                        // errorMessage={formik?.errors?.month}\n                                    />\n                                    <Input\n                                        label=\"\"\n                                        name=\"day\"\n                                        value={day}\n                                        onChange={ handleInputChangeday}\n                                        placeholder=\"DD\"\n                                        className=\"mt-8 text-center date\"\n                                        // errorMessage={formik?.errors?.day}\n                                    />\n                                    <Input\n                                        name=\"year\"\n                                        value={year}\n                                        onChange={ handleInputChangeyear}\n                                        placeholder=\"YYYY\"                                   \n                                        className=\"mt-8 text-center date\"\n                                        // errorMessage={formik?.errors?.year}\n                                    />\n                                </div>\n                            </div>\n                            \n                            <div className=\"gender-sect\">\n                                <p className=\"gender-text\">Gender</p>\n                                <div className=\"gender-select flex\">\n                                    <div className={`gender male flex ${gender === \"male\" ? \"selected\" : \"\"}`}>\n                                        <label>\n                                            <div className=\"flex\">\n                                                <img src={maleIcon} alt=\"MALE\" className=\"mr-2\" /> \n                                                <span>Male</span>\n                                            </div>        \n                                            <input type=\"radio\" name=\"gender\" value=\"male\" onChange={ handleInputChangegender} className=\"hidden\" />\n                                        </label>\n                                        \n                                    </div>\n                                    <div className={`gender female flex ${gender === \"female\" ? \"selected\" : \"\"}`}>\n                                        <label>\n                                            <div className=\"flex\">\n                                                <img src={femaleIcon} alt=\"female\" className=\"mr-2\" /> \n                                                <span>Female</span>\n                                            </div>\n                                            <input type=\"radio\" name=\"gender\" value=\"female\" onChange={ handleInputChangegender} className=\"hidden\"/>\n                                        </label>\n                                    </div>\n                                    {/* <div className=\"gender male flex\"><img src={maleIcon} alt=\"MALE\" /> <span>Male</span></div>\n                                    <div className=\"gender female flex\"><img src={femaleIcon} alt=\"FEMALE\" /><span>Female</span></div> */}\n                                </div>\n                                <div className=\"show-gender\"><Checkbox label=\"show my gender on my profile\" /></div>\n                            </div>\n\n                            <div className=\"passion \">\n                                <p className=\"optional\">Choose your passion (Optional)</p>\n                                <br />\n                                <span>Let everyone know what you are passionate about</span>\n                                \n                                <div className=\"select-passion flex flex-wrap \">\n                                    {selectedPassion?.map((item, i) => (\n                                        <div className=\"item mb-2\" key={i}>\n                                            {item?.item}\n                                        </div>\n                                    ))}\n                                </div>\n\n                                {passionModal ? \n                                <Modal onClose={closeModal} visible={passionModal} >\n                                    <PassionsModal close={closeModal} />\n                                </Modal>   \n                                : \"\" }\n\n                                <div className=\"more\" onClick={() => setPassion(true)} ><span>+</span> Show more</div>\n                            </div>\n\n                            <div className=\"continue-btn\">\n                                <Button text=\"Continue\" className=\"settings-btn\"/>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <div className=\"right w-1/2\">\n                    <img src={babe} alt=\"Girl\" />\n                </div>\n            </div>\n            {termsAndCondition ?\n                <Modal visible={modal} removeCloseIcon={true}>\n                    <TermsModal close={() => {\n                        session.set(\"modalShowed\", \"true\")\n                        closeModal()\n                    }}/>\n                </Modal>\n            : \"\"\n            }\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}